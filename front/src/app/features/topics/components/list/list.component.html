<!-- list.component.html -->
<div class="app">
  <mat-toolbar fxLayout="row" fxLayoutAlign="space-between center">
    <img class="img" src="/assets/logo_p6.png" routerLink="" alt="logo" />
    <!-- Menu pour les grandes tailles d'écran -->
    <div class="buttons desktop-menu">
      <span routerLink="/articles" class="link">Articles</span>
      <span routerLink="/topics" class="link themes">Thèmes</span>
      <span routerLink="/me" class="link"><mat-icon class="login-icon">person</mat-icon></span>
    </div>

    <!-- Burger menu pour petites tailles d'écran -->
    <button mat-icon-button [matMenuTriggerFor]="menu" class="mobile-menu">
      <mat-icon>menu</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item routerLink="/articles">Articles</button>
      <button mat-menu-item routerLink="/topics">Thèmes</button>
      <button mat-menu-item routerLink="/me"><mat-icon class="login-icon">person</mat-icon></button>
    </mat-menu>
  </mat-toolbar>
  
    <hr />
    <div class="list" fxLayout="row" fxLayoutAlign="space-between center">
      <mat-grid-list cols="2" rowHeight="2:1">
        <mat-grid-tile *ngFor="let topic of (topics$ | async)?.topics">
          <mat-card>
            <mat-card-header>
              <mat-card-title>{{ topic.name }}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <p>Contenu: {{ topic.description }}</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button color="primary" *ngIf="!isFollowing(topic.id)" (click)="subscribe(topic.id)">
                <span class="ml1">S'abonner</span>
              </button>
  
              <button 
                mat-raised-button 
                color="primary" 
                *ngIf="isFollowing(topic.id)" 
                disabled>
                Abonné
              </button>
            </mat-card-actions>
          </mat-card>
        </mat-grid-tile>
      </mat-grid-list>
    </div>
  </div>
  